2024-11-07 23:21:00.918 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:21:01.607 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:21:01.928 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:21:01.977 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:21:02.004 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:21:02.004 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:21:02.023 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:21:02.024 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:21:02.024 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:22:07.746 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:22:08.079 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:22:08.163 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:22:08.177 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:22:08.188 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:22:08.188 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:22:08.198 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:22:08.198 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:22:08.198 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:24:20.865 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:24:21.086 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:24:21.231 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:24:21.273 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:24:21.324 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:24:21.324 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:24:21.332 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:24:21.332 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:24:21.332 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:24:26.948 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:24:26.951 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:24:26.959 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:24:26.968 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:24:26.969 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:24:26.969 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:24:26.969 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:24:26.973 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:24:26.981 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:24:26.981 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:24:26.981 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:24:26.981 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:24:26.987 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:24:26.995 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:24:26.996 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:24:26.998 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:24:27.001 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:24:27.003 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:24:27.005 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:24:27.005 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:24:27.157 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:24:27.222 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:24:27.222 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:24:27.222 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:24:27.222 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:24:27.222 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:24:27.244 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:24:27.388 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:24:27.390 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:24:27.392 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:24:27.392 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:24:27.471 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFBOGG6O4" received FIN.
2024-11-07 23:24:27.480 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O4" accepted.
2024-11-07 23:24:27.483 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O4" started.
2024-11-07 23:24:27.739 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:24:27.824 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O4" stopped.
2024-11-07 23:24:27.829 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFBOGG6O4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:24:27.840 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O5" accepted.
2024-11-07 23:24:27.840 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O5" started.
2024-11-07 23:24:27.841 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O6" accepted.
2024-11-07 23:24:27.841 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O6" started.
2024-11-07 23:24:27.919 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFBOGG6O6" received FIN.
2024-11-07 23:24:27.976 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFBOGG6O6 established using the following protocol: Tls12
2024-11-07 23:24:27.954 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFBOGG6O5 established using the following protocol: Tls12
2024-11-07 23:24:28.008 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O6" is closed. The last processed stream ID was 0.
2024-11-07 23:24:28.012 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFBOGG6O6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:24:28.009 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE.
2024-11-07 23:24:28.017 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Http2: The connection queue processing loop for 0HN7VFBOGG6O6 completed.
2024-11-07 23:24:28.021 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0.
2024-11-07 23:24:28.021 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O6" stopped.
2024-11-07 23:24:28.021 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" received SETTINGS frame for stream ID 0 with length 24 and flags NONE.
2024-11-07 23:24:28.022 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK.
2024-11-07 23:24:28.022 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0.
2024-11-07 23:24:28.023 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" received HEADERS frame for stream ID 1 with length 483 and flags END_STREAM, END_HEADERS, PRIORITY.
2024-11-07 23:24:28.062 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" received SETTINGS frame for stream ID 0 with length 0 and flags ACK.
2024-11-07 23:24:28.091 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:24:28.209 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:24:28.209 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:24:28.243 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:24:28.250 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:24:28.253 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:24:28.255 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:24:28.272 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Negotiate is not supported with HTTP/2.
2024-11-07 23:24:28.272 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:24:28.276 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:24:28.280 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:24:28.285 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:24:28.285 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:24:28.289 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" sending HEADERS frame for stream ID 1 with length 60 and flags END_STREAM, END_HEADERS.
2024-11-07 23:24:28.289 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 GET https://localhost:5001/weatherforecast - 401 0 - 204.9846ms
2024-11-07 23:24:28.291 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O7" accepted.
2024-11-07 23:24:28.291 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O7" started.
2024-11-07 23:24:28.293 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFBOGG6O7 established using the following protocol: Tls12
2024-11-07 23:24:28.293 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFBOGG6O5" received RST_STREAM frame for stream ID 1 with length 4 and flags 0x0.
2024-11-07 23:24:28.299 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:24:28.307 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:24:28.307 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:24:28.308 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:24:28.308 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:24:28.308 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:24:28.314 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:24:28.323 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFBOGG6O7" completed keep alive response.
2024-11-07 23:24:28.323 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 23.6488ms
2024-11-07 23:24:28.325 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:24:28.327 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:24:28.327 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:24:28.327 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:24:28.327 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:24:28.328 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:24:28.333 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:24:28.337 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:24:28.339 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:24:28.340 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:24:28.422 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
2024-11-07 23:25:10.660 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:25:10.973 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:25:11.282 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:25:11.372 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:25:11.440 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:25:11.441 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:25:11.452 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:25:11.453 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:25:11.453 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:25:22.218 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:25:22.222 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:25:22.231 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:25:22.244 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:25:22.245 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:25:22.245 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:25:22.246 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:25:22.249 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:25:22.259 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:25:22.259 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:25:22.259 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:25:22.259 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:25:22.266 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:25:22.275 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:25:22.276 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:25:22.278 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:25:22.282 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:25:22.285 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:25:22.288 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:25:22.288 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:25:22.516 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:25:22.582 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:25:22.583 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:25:22.583 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:25:22.583 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:25:22.583 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:25:22.618 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:25:22.634 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT45" accepted.
2024-11-07 23:25:22.634 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT46" accepted.
2024-11-07 23:25:22.636 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT46" started.
2024-11-07 23:25:22.646 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT46" received FIN.
2024-11-07 23:25:22.647 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT45" received FIN.
2024-11-07 23:25:22.751 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT45" started.
2024-11-07 23:25:23.098 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT47" accepted.
2024-11-07 23:25:23.099 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT47" started.
2024-11-07 23:25:23.005 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:25:23.005 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:25:23.136 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT46" stopped.
2024-11-07 23:25:23.136 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT45" stopped.
2024-11-07 23:25:23.144 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT46" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:25:23.144 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT45" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:25:23.207 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFC8UIT47 established using the following protocol: Tls12
2024-11-07 23:25:23.254 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:25:23.257 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:25:23.266 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:25:23.266 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:25:23.323 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:25:23.536 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:25:23.536 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:23.601 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:25:23.614 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:25:23.619 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:25:23.620 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:23.645 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:23.652 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:25:23.658 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:25:23.665 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:25:23.666 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:25:23.683 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT47" completed keep alive response.
2024-11-07 23:25:23.685 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 362.2112ms
2024-11-07 23:25:23.689 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:25:23.711 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:23.714 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:25:23.714 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:25:23.715 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:25:23.715 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:23.723 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:25:23.724 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT47" completed keep alive response.
2024-11-07 23:25:23.724 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 34.7486ms
2024-11-07 23:25:23.735 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:25:23.739 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:23.739 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:25:23.739 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:25:23.739 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:25:23.739 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:23.745 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:25:23.751 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:25:23.756 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:25:23.757 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:25:23.894 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
2024-11-07 23:25:24.044 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT48" accepted.
2024-11-07 23:25:24.045 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT48" started.
2024-11-07 23:25:24.107 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFC8UIT48 established using the following protocol: Tls12
2024-11-07 23:25:24.129 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:24.129 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:24.130 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.130 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.130 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.131 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:24.131 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:24.131 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:24.133 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:24.134 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes Negotiate did not succeed
2024-11-07 23:25:24.134 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:25:24.134 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:25:24.134 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:25:24.134 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT48" completed keep alive response.
2024-11-07 23:25:24.134 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 5.7424ms
2024-11-07 23:25:24.153 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:24.153 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:24.153 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.153 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.153 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.153 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:24.153 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:24.154 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:25:24.154 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT48" completed keep alive response.
2024-11-07 23:25:24.154 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 1.6671ms
2024-11-07 23:25:24.156 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:24.156 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:24.156 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.156 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.156 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.156 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:24.156 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:24.157 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:25:24.157 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:25:24.157 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:25:24.158 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:25:24.158 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:24.168 +01:00 [Debug] Yarp.ReverseProxy.Tunnel.TunnelAuthenticationNegotiateHttp2: Cluster alpha Authentication Negotiate success GRIMMBART\Flori.
2024-11-07 23:25:24.178 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT48" completed keep alive response.
2024-11-07 23:25:24.178 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:24.178 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 200 - - 22.1895ms
2024-11-07 23:25:24.199 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT48" received FIN.
2024-11-07 23:25:24.199 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT48" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:25:24.199 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT48" disconnecting.
2024-11-07 23:25:24.202 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT48" stopped.
2024-11-07 23:25:24.218 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT49" accepted.
2024-11-07 23:25:24.218 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT49" started.
2024-11-07 23:25:24.221 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFC8UIT49 established using the following protocol: Tls12
2024-11-07 23:25:24.255 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending SETTINGS frame for stream ID 0 with length 24 and flags NONE.
2024-11-07 23:25:24.264 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0.
2024-11-07 23:25:24.265 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received SETTINGS frame for stream ID 0 with length 12 and flags NONE.
2024-11-07 23:25:24.266 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending SETTINGS frame for stream ID 0 with length 0 and flags ACK.
2024-11-07 23:25:24.266 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received WINDOW_UPDATE frame for stream ID 0 with length 4 and flags 0x0.
2024-11-07 23:25:24.336 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received HEADERS frame for stream ID 1 with length 97 and flags END_HEADERS.
2024-11-07 23:25:24.353 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:24.354 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:24.354 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.354 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: POST _Tunnel/H2/Negotiate/{clusterId} => TunnelHTTP2RoutePost' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.354 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:24.354 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: POST _Tunnel/H2/Negotiate/{clusterId} => TunnelHTTP2RoutePost'
2024-11-07 23:25:24.354 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:24.355 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Negotiate is not supported with HTTP/2.
2024-11-07 23:25:24.355 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:24.356 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:25:24.356 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:25:24.356 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:25:24.356 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:25:24.357 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 3.3827ms
2024-11-07 23:25:24.358 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000001": started reading request body.
2024-11-07 23:25:24.359 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000001": done reading request body.
2024-11-07 23:25:24.362 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending HEADERS frame for stream ID 1 with length 60 and flags END_STREAM, END_HEADERS.
2024-11-07 23:25:24.363 +01:00 [Information] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000001": the application completed without reading the entire request body.
2024-11-07 23:25:24.364 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending RST_STREAM frame for stream ID 1 with length 4 and flags 0x0.
2024-11-07 23:25:24.550 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received SETTINGS frame for stream ID 0 with length 0 and flags ACK.
2024-11-07 23:25:24.772 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received PING frame for stream ID 0 with length 8 and flags NONE.
2024-11-07 23:25:24.773 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending PING frame for stream ID 0 with length 8 and flags ACK.
2024-11-07 23:25:37.158 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4A" accepted.
2024-11-07 23:25:37.159 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4A" started.
2024-11-07 23:25:37.160 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFC8UIT4A established using the following protocol: Tls12
2024-11-07 23:25:37.162 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:37.162 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:37.162 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.162 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.162 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.162 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:37.162 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:37.162 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:37.163 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:37.163 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes Negotiate did not succeed
2024-11-07 23:25:37.163 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:25:37.163 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:25:37.163 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:25:37.163 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4A" completed keep alive response.
2024-11-07 23:25:37.163 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 1.0625ms
2024-11-07 23:25:37.165 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:37.165 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:37.165 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.165 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.165 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.165 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:37.165 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:37.166 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:25:37.166 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4A" completed keep alive response.
2024-11-07 23:25:37.166 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 0.7887ms
2024-11-07 23:25:37.167 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:37.167 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:37.167 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.167 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.167 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.167 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:37.167 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:37.167 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:25:37.167 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:25:37.167 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:25:37.168 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:25:37.168 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:37.168 +01:00 [Debug] Yarp.ReverseProxy.Tunnel.TunnelAuthenticationNegotiateHttp2: Cluster alpha Authentication Negotiate success GRIMMBART\Flori.
2024-11-07 23:25:37.169 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4A" completed keep alive response.
2024-11-07 23:25:37.169 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:37.169 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 200 - - 2.3123ms
2024-11-07 23:25:37.172 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT4A" received FIN.
2024-11-07 23:25:37.172 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT4A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:25:37.173 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4A" disconnecting.
2024-11-07 23:25:37.173 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4A" stopped.
2024-11-07 23:25:37.175 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received HEADERS frame for stream ID 3 with length 97 and flags END_HEADERS.
2024-11-07 23:25:37.175 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:37.176 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: POST _Tunnel/H2/Negotiate/{clusterId} => TunnelHTTP2RoutePost' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: POST _Tunnel/H2/Negotiate/{clusterId} => TunnelHTTP2RoutePost'
2024-11-07 23:25:37.176 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Negotiate is not supported with HTTP/2.
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:25:37.176 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:25:37.176 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:25:37.176 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 0.5676ms
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000003": started reading request body.
2024-11-07 23:25:37.176 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000003": done reading request body.
2024-11-07 23:25:37.176 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending HEADERS frame for stream ID 3 with length 38 and flags END_STREAM, END_HEADERS.
2024-11-07 23:25:37.176 +01:00 [Information] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000003": the application completed without reading the entire request body.
2024-11-07 23:25:37.176 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending RST_STREAM frame for stream ID 3 with length 4 and flags 0x0.
2024-11-07 23:25:37.177 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received PING frame for stream ID 0 with length 8 and flags NONE.
2024-11-07 23:25:37.177 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending PING frame for stream ID 0 with length 8 and flags ACK.
2024-11-07 23:25:52.570 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4B" accepted.
2024-11-07 23:25:52.570 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4B" started.
2024-11-07 23:25:52.591 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFC8UIT4B established using the following protocol: Tls12
2024-11-07 23:25:52.591 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:52.591 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:52.592 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes Negotiate did not succeed
2024-11-07 23:25:52.592 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:25:52.592 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:25:52.592 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4B" completed keep alive response.
2024-11-07 23:25:52.592 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 0.9661ms
2024-11-07 23:25:52.600 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:52.600 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:52.600 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.600 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.600 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.600 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:52.600 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:52.601 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:25:52.601 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4B" completed keep alive response.
2024-11-07 23:25:52.601 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 1.3250ms
2024-11-07 23:25:52.602 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:52.603 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:52.603 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.603 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.603 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.603 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:52.603 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:52.606 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:25:52.606 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:25:52.606 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:25:52.606 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:25:52.606 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:52.607 +01:00 [Debug] Yarp.ReverseProxy.Tunnel.TunnelAuthenticationNegotiateHttp2: Cluster alpha Authentication Negotiate success GRIMMBART\Flori.
2024-11-07 23:25:52.607 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4B" completed keep alive response.
2024-11-07 23:25:52.608 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:25:52.608 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 200 - - 5.1354ms
2024-11-07 23:25:52.613 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT4B" received FIN.
2024-11-07 23:25:52.613 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFC8UIT4B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:25:52.613 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4B" disconnecting.
2024-11-07 23:25:52.614 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFC8UIT4B" stopped.
2024-11-07 23:25:52.616 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received HEADERS frame for stream ID 5 with length 97 and flags END_HEADERS.
2024-11-07 23:25:52.618 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/2 POST https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:25:52.618 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:25:52.618 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.618 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: POST _Tunnel/H2/Negotiate/{clusterId} => TunnelHTTP2RoutePost' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.618 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:25:52.618 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: POST _Tunnel/H2/Negotiate/{clusterId} => TunnelHTTP2RoutePost'
2024-11-07 23:25:52.618 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:25:52.618 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Negotiate is not supported with HTTP/2.
2024-11-07 23:25:52.618 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:25:52.618 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:25:52.618 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:25:52.619 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:25:52.619 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:25:52.619 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/2 POST https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 1.0258ms
2024-11-07 23:25:52.619 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending HEADERS frame for stream ID 5 with length 38 and flags END_STREAM, END_HEADERS.
2024-11-07 23:25:52.619 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000005": started reading request body.
2024-11-07 23:25:52.619 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000005": done reading request body.
2024-11-07 23:25:52.619 +01:00 [Information] Microsoft.AspNetCore.Server.Kestrel: Connection id "0HN7VFC8UIT49", Request id "0HN7VFC8UIT49:00000005": the application completed without reading the entire request body.
2024-11-07 23:25:52.619 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending RST_STREAM frame for stream ID 5 with length 4 and flags 0x0.
2024-11-07 23:25:52.626 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" received PING frame for stream ID 0 with length 8 and flags NONE.
2024-11-07 23:25:52.626 +01:00 [Trace] Microsoft.AspNetCore.Server.Kestrel.Http2: Connection id "0HN7VFC8UIT49" sending PING frame for stream ID 0 with length 8 and flags ACK.
2024-11-07 23:28:13.804 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:28:14.020 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:28:14.138 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:28:14.168 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:28:14.184 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:28:14.184 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:28:14.197 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:28:14.197 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:28:14.197 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:28:18.133 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:28:18.136 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:28:18.154 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:28:18.168 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:28:18.169 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:28:18.169 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:28:18.170 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:28:18.174 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:28:18.186 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:28:18.186 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:28:18.186 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:28:18.186 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:28:18.193 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:28:18.201 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:28:18.203 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:28:18.205 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:28:18.209 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:28:18.212 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:28:18.214 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:28:18.215 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:28:18.850 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:28:18.947 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:28:18.947 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:28:18.947 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:28:18.947 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:28:18.947 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:28:18.952 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFDTG2S9I" received FIN.
2024-11-07 23:28:18.953 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFDTG2S9J" received FIN.
2024-11-07 23:28:18.981 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9I" accepted.
2024-11-07 23:28:18.983 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9I" started.
2024-11-07 23:28:18.986 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:28:18.992 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9J" accepted.
2024-11-07 23:28:19.009 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9J" started.
2024-11-07 23:28:19.656 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9K" accepted.
2024-11-07 23:28:19.656 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9K" started.
2024-11-07 23:28:19.635 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:28:19.633 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:28:19.717 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9I" stopped.
2024-11-07 23:28:19.717 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9J" stopped.
2024-11-07 23:28:19.724 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFDTG2S9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:28:19.725 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFDTG2S9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:28:19.760 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFDTG2S9K established using the following protocol: Tls12
2024-11-07 23:28:19.821 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:28:19.829 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:28:19.836 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:28:19.837 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:28:19.886 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:28:20.022 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9L" accepted.
2024-11-07 23:28:20.022 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9L" started.
2024-11-07 23:28:20.152 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:28:20.153 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:28:20.210 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:28:20.219 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:28:20.223 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:28:20.225 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:28:20.248 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:28:20.255 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:28:20.265 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:28:20.271 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:28:20.271 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:28:20.290 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9K" completed keep alive response.
2024-11-07 23:28:20.292 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 406.1127ms
2024-11-07 23:28:20.296 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:28:20.309 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:28:20.310 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:28:20.310 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:28:20.310 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:28:20.311 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:28:20.321 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:28:20.321 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9K" completed keep alive response.
2024-11-07 23:28:20.322 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 25.3831ms
2024-11-07 23:28:20.334 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:28:20.336 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFDTG2S9L established using the following protocol: Tls12
2024-11-07 23:28:20.341 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:28:20.341 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:28:20.341 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:28:20.341 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:28:20.341 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:28:20.348 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:28:20.352 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:28:20.358 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:28:20.359 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:28:20.361 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:28:20.361 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:28:20.362 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.362 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.362 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.362 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:28:20.362 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:28:20.362 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:28:20.364 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:28:20.364 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes Negotiate did not succeed
2024-11-07 23:28:20.364 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:28:20.365 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:28:20.365 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:28:20.365 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9L" completed keep alive response.
2024-11-07 23:28:20.365 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 4.4218ms
2024-11-07 23:28:20.384 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:28:20.384 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:28:20.384 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.384 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.384 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.384 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:28:20.384 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:28:20.385 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:28:20.385 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9L" completed keep alive response.
2024-11-07 23:28:20.386 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 401 0 - 1.5345ms
2024-11-07 23:28:20.388 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - - -
2024-11-07 23:28:20.389 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:28:20.389 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.389 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}' with route pattern '_Tunnel/H2/Negotiate/{clusterId}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.389 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/_Tunnel/H2/Negotiate/alpha'
2024-11-07 23:28:20.389 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:28:20.389 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:28:20.390 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:28:20.390 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:28:20.390 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:28:20.391 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:28:20.391 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:28:20.407 +01:00 [Debug] Yarp.ReverseProxy.Tunnel.TunnelAuthenticationNegotiateHttp2: Cluster alpha Authentication Negotiate success GRIMMBART\Flori.
2024-11-07 23:28:20.443 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9L" completed keep alive response.
2024-11-07 23:28:20.443 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'HTTP: GET _Tunnel/H2/Negotiate/{clusterId}'
2024-11-07 23:28:20.443 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/_Tunnel/H2/Negotiate/alpha - 200 - - 55.3222ms
2024-11-07 23:28:20.513 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
2024-11-07 23:28:20.516 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFDTG2S9L" received FIN.
2024-11-07 23:28:20.516 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFDTG2S9L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:28:20.516 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9L" disconnecting.
2024-11-07 23:28:20.521 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9L" stopped.
2024-11-07 23:28:20.542 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9M" accepted.
2024-11-07 23:28:20.542 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFDTG2S9M" started.
2024-11-07 23:28:20.545 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFDTG2S9M established using the following protocol: Tls12
2024-11-07 23:29:25.583 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:29:25.766 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:29:25.847 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:29:25.861 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:29:25.881 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:29:25.881 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:29:25.893 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:29:25.893 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:29:25.893 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:29:32.457 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:29:32.459 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:29:32.468 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:29:32.477 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:29:32.478 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:29:32.478 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:29:32.478 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:29:32.481 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:29:32.491 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:29:32.491 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:29:32.491 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:29:32.491 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:29:32.497 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:29:32.506 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:29:32.508 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:29:32.509 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:29:32.513 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:29:32.517 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:29:32.518 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:29:32.519 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:29:32.670 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:29:32.735 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:29:32.735 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:29:32.735 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:29:32.735 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:29:32.735 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:29:32.752 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:29:32.780 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFEJG594F" received FIN.
2024-11-07 23:29:32.788 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594F" accepted.
2024-11-07 23:29:32.789 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594F" started.
2024-11-07 23:29:32.962 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:29:32.998 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594F" stopped.
2024-11-07 23:29:33.001 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFEJG594F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:29:33.017 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:29:33.020 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:29:33.024 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:29:33.024 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:29:33.038 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594G" accepted.
2024-11-07 23:29:33.038 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594G" started.
2024-11-07 23:29:33.111 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFEJG594G established using the following protocol: Tls12
2024-11-07 23:29:33.205 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:29:33.361 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:29:33.361 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:29:33.397 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:29:33.406 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:29:33.409 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:29:33.410 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:29:33.431 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:29:33.436 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:29:33.441 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:29:33.446 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:29:33.446 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:29:33.464 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594G" completed keep alive response.
2024-11-07 23:29:33.466 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 270.6169ms
2024-11-07 23:29:33.468 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:29:33.477 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:29:33.478 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:29:33.478 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:29:33.478 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:29:33.479 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:29:33.486 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:29:33.487 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594G" completed keep alive response.
2024-11-07 23:29:33.487 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 18.9012ms
2024-11-07 23:29:33.492 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:29:33.495 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:29:33.495 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:29:33.495 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:29:33.495 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:29:33.495 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:29:33.501 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:29:33.506 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:29:33.512 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:29:33.514 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:29:33.593 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
2024-11-07 23:30:33.052 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594H" accepted.
2024-11-07 23:30:33.052 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594H" started.
2024-11-07 23:30:33.075 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFEJG594H established using the following protocol: Tls12
2024-11-07 23:30:33.076 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:30:33.081 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:30:33.081 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:30:33.081 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:30:33.081 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:30:33.081 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:30:33.081 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:30:33.083 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:30:33.083 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:30:33.084 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:30:33.084 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:30:33.084 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594H" completed keep alive response.
2024-11-07 23:30:33.084 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 8.1891ms
2024-11-07 23:30:33.087 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:30:33.091 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:30:33.091 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:30:33.091 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:30:33.091 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:30:33.091 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:30:33.092 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:30:33.092 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFEJG594H" completed keep alive response.
2024-11-07 23:30:33.092 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 5.3401ms
2024-11-07 23:30:33.093 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:30:33.097 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:30:33.097 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:30:33.097 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:30:33.097 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:30:33.097 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:30:33.097 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:30:33.097 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:30:33.098 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:30:33.098 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:30:33.100 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/FrontEnd HTTP/2 RequestVersionOrLower 
2024-11-07 23:33:52.118 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:33:52.308 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:33:52.398 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:33:52.412 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:33:52.423 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:33:52.423 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:33:52.437 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:33:52.437 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:33:52.437 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:33:52.526 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:33:52.529 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:33:52.539 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:33:52.550 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:33:52.551 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:33:52.551 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:33:52.552 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:33:52.555 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:33:52.564 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:33:52.564 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:33:52.564 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:33:52.565 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:33:52.571 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:33:52.582 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:33:52.583 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:33:52.585 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:33:52.589 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:33:52.592 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:33:52.594 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:33:52.596 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:33:52.823 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:33:52.996 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:33:52.996 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:33:52.996 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:33:52.996 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:33:52.997 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:33:53.024 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:33:53.146 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:33:53.148 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:33:53.151 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:33:53.151 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:34:09.313 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:34:09.518 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:34:09.595 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:34:09.610 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:34:09.773 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:34:09.773 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:34:09.783 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:34:09.783 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:34:09.783 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:34:09.892 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:34:09.896 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:34:09.906 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:34:09.918 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:34:09.919 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:34:09.920 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:34:09.920 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:34:09.924 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:34:09.933 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:34:09.933 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:34:09.933 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:34:09.933 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:34:09.940 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:34:09.949 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:34:09.950 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:34:09.952 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:34:09.955 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:34:09.958 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:34:09.960 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:34:09.962 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:34:10.359 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:34:10.475 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:34:10.476 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:34:10.476 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:34:10.476 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:34:10.476 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:34:10.503 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:34:10.525 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L4" accepted.
2024-11-07 23:34:10.525 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L3" accepted.
2024-11-07 23:34:10.526 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L3" started.
2024-11-07 23:34:10.526 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L4" started.
2024-11-07 23:34:10.546 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFH68U5L4" received FIN.
2024-11-07 23:34:10.546 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFH68U5L3" received FIN.
2024-11-07 23:34:10.931 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L5" accepted.
2024-11-07 23:34:10.946 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L5" started.
2024-11-07 23:34:10.947 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:34:10.947 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:34:10.998 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L4" stopped.
2024-11-07 23:34:10.998 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L3" stopped.
2024-11-07 23:34:11.004 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFH68U5L4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:34:11.004 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFH68U5L3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:34:11.042 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:34:11.046 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:34:11.049 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:34:11.049 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:34:11.050 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFH68U5L5 established using the following protocol: Tls12
2024-11-07 23:34:11.117 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:34:11.249 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:34:11.249 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:34:11.269 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:34:11.273 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:34:11.276 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:34:11.283 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:34:11.283 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:34:11.310 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L5" completed keep alive response.
2024-11-07 23:34:11.313 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 204.2832ms
2024-11-07 23:34:11.316 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:34:11.326 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:34:11.337 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:34:11.338 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L5" completed keep alive response.
2024-11-07 23:34:11.338 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 21.9454ms
2024-11-07 23:34:11.345 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:34:11.352 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:34:11.359 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:34:11.366 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:34:11.371 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:34:11.448 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:34:11.461 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:34:11.466 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:34:11.468 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:34:11.469 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:34:11.563 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
2024-11-07 23:34:17.347 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFH68U5L5" received FIN.
2024-11-07 23:34:17.347 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFH68U5L5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:34:17.348 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L5" disconnecting.
2024-11-07 23:34:17.392 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L6" accepted.
2024-11-07 23:34:17.392 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L6" started.
2024-11-07 23:34:17.575 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFH68U5L6 established using the following protocol: Tls12
2024-11-07 23:34:17.621 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:34:17.684 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:34:17.684 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:34:17.781 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:34:17.813 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:34:17.813 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:34:17.813 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:34:17.814 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L6" completed keep alive response.
2024-11-07 23:34:17.814 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 193.0624ms
2024-11-07 23:34:17.830 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:34:17.834 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:34:17.835 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:34:17.835 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L6" completed keep alive response.
2024-11-07 23:34:17.835 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 5.3937ms
2024-11-07 23:34:17.836 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:34:17.840 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:34:17.840 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:34:17.840 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:34:17.841 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:34:17.842 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:34:17.842 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint '/FrontEnd' with route pattern '/FrontEnd' is valid for the request path '/FrontEnd'
2024-11-07 23:34:17.842 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:34:17.842 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint '/FrontEnd'
2024-11-07 23:34:17.842 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:34:17.842 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/FrontEnd'
2024-11-07 23:34:17.848 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/FrontEnd'
2024-11-07 23:34:17.848 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L6" completed keep alive response.
2024-11-07 23:34:17.848 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 200 - - 11.9763ms
2024-11-07 23:34:17.834 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.HttpForwarder: RequestCanceled: The request was canceled before receiving a response.System.Threading.Tasks.TaskCanceledException: A task was canceled.;    at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken);    at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken);    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken);    at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken);    at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken);    at Yarp.ReverseProxy.Forwarder.HttpForwarder.SendAsync(HttpContext context, String destinationPrefix, HttpMessageInvoker httpClient, ForwarderRequestConfig requestConfig, HttpTransformer transformer, CancellationToken cancellationToken) in D:\github.com\FlorianGrimm\reverse-proxy\src\ReverseProxy\Forwarder\HttpForwarder.cs:line 162
2024-11-07 23:34:17.978 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'routeFERoot'
2024-11-07 23:34:17.981 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 499 - - 6635.3181ms
2024-11-07 23:34:17.984 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFH68U5L5" stopped.
2024-11-07 23:35:37.243 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:35:37.433 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:35:37.522 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:35:37.541 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:35:37.557 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:35:37.557 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:35:37.567 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:35:37.567 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:35:37.567 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:35:37.744 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:35:37.749 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:35:37.765 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:35:37.781 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:35:37.781 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:35:37.782 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:35:37.782 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:35:37.787 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:35:37.800 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:35:37.801 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:35:37.801 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:35:37.801 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:35:37.809 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:35:37.822 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:35:37.824 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:35:37.826 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:35:37.831 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:35:37.835 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:35:37.837 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:35:37.838 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:35:38.540 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:35:38.630 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI0H618M" received FIN.
2024-11-07 23:35:38.638 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618M" accepted.
2024-11-07 23:35:38.640 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618M" started.
2024-11-07 23:35:38.773 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:35:38.785 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:35:38.785 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:35:38.785 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:35:38.785 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:35:38.888 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:35:38.840 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:35:38.900 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618M" stopped.
2024-11-07 23:35:38.903 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI0H618M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:35:39.010 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:35:39.012 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:35:39.014 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:35:39.015 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:35:39.119 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618N" accepted.
2024-11-07 23:35:39.121 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618N" started.
2024-11-07 23:35:39.231 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFI0H618N established using the following protocol: Tls12
2024-11-07 23:35:39.321 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:35:39.537 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:35:39.537 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:35:39.567 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:35:39.575 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:35:39.582 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:35:39.589 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:35:39.589 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:35:39.612 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618N" completed keep alive response.
2024-11-07 23:35:39.614 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 298.6185ms
2024-11-07 23:35:39.617 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:35:39.630 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:35:39.640 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:35:39.643 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618N" completed keep alive response.
2024-11-07 23:35:39.643 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 26.6651ms
2024-11-07 23:35:39.654 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:35:39.662 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:35:39.670 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:35:39.677 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:35:39.683 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:35:39.738 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:35:39.749 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:35:39.753 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:35:39.755 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:35:39.756 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:35:39.864 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
2024-11-07 23:35:43.161 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI0H618N" received FIN.
2024-11-07 23:35:43.161 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI0H618N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:35:43.161 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618N" disconnecting.
2024-11-07 23:35:43.201 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618O" accepted.
2024-11-07 23:35:43.204 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618O" started.
2024-11-07 23:35:43.310 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFI0H618O established using the following protocol: Tls12
2024-11-07 23:35:43.364 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:35:43.393 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:35:43.393 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:35:43.414 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:35:43.417 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:35:43.477 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:35:43.477 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:35:43.500 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618O" completed keep alive response.
2024-11-07 23:35:43.501 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 137.0294ms
2024-11-07 23:35:43.502 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:35:43.508 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:35:43.509 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:35:43.509 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618O" completed keep alive response.
2024-11-07 23:35:43.509 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 6.5650ms
2024-11-07 23:35:43.510 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:35:43.513 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:35:43.513 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:35:43.513 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:35:43.513 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:35:43.514 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:35:43.514 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint '/frontend' with route pattern '/frontend' is valid for the request path '/FrontEnd'
2024-11-07 23:35:43.514 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:35:43.514 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint '/frontend'
2024-11-07 23:35:43.515 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:35:43.515 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/frontend'
2024-11-07 23:35:43.511 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.HttpForwarder: RequestCanceled: The request was canceled before receiving a response.System.Threading.Tasks.TaskCanceledException: A task was canceled.;    at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken);    at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken);    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken);    at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken);    at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken);    at Yarp.ReverseProxy.Forwarder.HttpForwarder.SendAsync(HttpContext context, String destinationPrefix, HttpMessageInvoker httpClient, ForwarderRequestConfig requestConfig, HttpTransformer transformer, CancellationToken cancellationToken) in D:\github.com\FlorianGrimm\reverse-proxy\src\ReverseProxy\Forwarder\HttpForwarder.cs:line 162
2024-11-07 23:35:43.534 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/frontend'
2024-11-07 23:35:43.535 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618O" completed keep alive response.
2024-11-07 23:35:43.535 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 200 - - 24.7973ms
2024-11-07 23:35:43.539 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'routeFERoot'
2024-11-07 23:35:43.541 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 499 - - 3886.7556ms
2024-11-07 23:35:43.544 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI0H618N" stopped.
2024-11-07 23:36:01.054 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:36:01.496 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:36:01.741 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:36:01.775 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:36:01.807 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:36:01.807 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:36:01.816 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:36:01.816 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:36:01.816 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:36:01.899 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:36:01.902 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:36:01.911 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:36:01.920 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:36:01.920 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:36:01.921 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:36:01.921 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:36:01.924 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:36:01.937 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:36:01.937 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:36:01.937 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:36:01.937 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:36:01.946 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:36:01.958 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:36:01.960 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:36:01.962 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:36:01.966 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:36:01.971 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:36:01.974 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:36:01.975 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:36:02.172 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:36:02.238 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:36:02.238 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:36:02.238 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:36:02.238 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:36:02.238 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:36:02.259 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:36:02.332 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:36:02.334 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:36:02.336 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:36:02.336 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:36:02.687 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI29" accepted.
2024-11-07 23:36:02.688 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI29" started.
2024-11-07 23:36:02.692 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2A" accepted.
2024-11-07 23:36:02.693 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2A" started.
2024-11-07 23:36:02.725 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI7MJI2A" received FIN.
2024-11-07 23:36:02.725 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI7MJI29" received FIN.
2024-11-07 23:36:03.079 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2B" accepted.
2024-11-07 23:36:03.081 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2B" started.
2024-11-07 23:36:03.171 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:36:03.171 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:36:03.214 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2A" stopped.
2024-11-07 23:36:03.214 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI29" stopped.
2024-11-07 23:36:03.217 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI7MJI2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:36:03.217 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI7MJI29" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:36:03.243 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFI7MJI2B established using the following protocol: Tls12
2024-11-07 23:36:03.310 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:36:03.436 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:36:03.436 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:03.450 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:36:03.453 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:36:03.456 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:36:03.460 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:36:03.460 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:36:03.475 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2B" completed keep alive response.
2024-11-07 23:36:03.477 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 171.9759ms
2024-11-07 23:36:03.478 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:36:03.486 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:03.491 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:36:03.492 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2B" completed keep alive response.
2024-11-07 23:36:03.492 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 13.5135ms
2024-11-07 23:36:03.497 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:36:03.500 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:03.504 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:36:03.508 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:36:03.511 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:36:03.548 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:36:03.555 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:36:03.559 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:36:03.560 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:36:03.561 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:36:03.639 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
2024-11-07 23:36:09.946 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI7MJI2B" received FIN.
2024-11-07 23:36:09.947 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFI7MJI2B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:36:09.947 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2B" disconnecting.
2024-11-07 23:36:09.987 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" accepted.
2024-11-07 23:36:09.987 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" started.
2024-11-07 23:36:10.194 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFI7MJI2C established using the following protocol: Tls12
2024-11-07 23:36:10.218 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:36:10.297 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:10.298 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:36:10.376 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:36:10.378 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:36:10.403 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:36:10.403 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:36:10.404 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" completed keep alive response.
2024-11-07 23:36:10.404 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 185.9310ms
2024-11-07 23:36:10.441 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:36:10.446 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:10.447 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:36:10.447 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" completed keep alive response.
2024-11-07 23:36:10.447 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 5.6263ms
2024-11-07 23:36:10.448 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:36:10.492 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:10.492 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:36:10.493 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:36:10.493 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:36:10.494 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:36:10.495 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint '/frontend' with route pattern '/frontend' is valid for the request path '/FrontEnd'
2024-11-07 23:36:10.495 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:36:10.495 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint '/frontend'
2024-11-07 23:36:10.495 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:36:10.495 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/frontend'
2024-11-07 23:36:10.448 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.HttpForwarder: RequestCanceled: The request was canceled before receiving a response.System.Threading.Tasks.TaskCanceledException: A task was canceled.;    at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken);    at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken);    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken);    at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken);    at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken);    at Yarp.ReverseProxy.Forwarder.HttpForwarder.SendAsync(HttpContext context, String destinationPrefix, HttpMessageInvoker httpClient, ForwarderRequestConfig requestConfig, HttpTransformer transformer, CancellationToken cancellationToken) in D:\github.com\FlorianGrimm\reverse-proxy\src\ReverseProxy\Forwarder\HttpForwarder.cs:line 162
2024-11-07 23:36:10.503 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'routeFERoot'
2024-11-07 23:36:10.504 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 499 - - 7007.6359ms
2024-11-07 23:36:10.507 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2B" stopped.
2024-11-07 23:36:10.510 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/frontend'
2024-11-07 23:36:10.510 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" completed keep alive response.
2024-11-07 23:36:10.510 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 200 - text/plain 61.8569ms
2024-11-07 23:36:14.357 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:36:14.360 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:14.360 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:36:14.361 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:36:14.361 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:36:14.361 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint '/frontend' with route pattern '/frontend' is valid for the request path '/FrontEnd'
2024-11-07 23:36:14.361 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:36:14.361 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint '/frontend'
2024-11-07 23:36:14.361 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:36:14.361 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/frontend'
2024-11-07 23:36:14.363 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/frontend'
2024-11-07 23:36:14.363 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" completed keep alive response.
2024-11-07 23:36:14.364 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 200 - text/plain 6.6801ms
2024-11-07 23:36:19.987 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:36:19.991 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:19.991 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:36:19.992 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:36:19.992 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:36:19.992 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint '/frontend' with route pattern '/frontend' is valid for the request path '/FrontEnd'
2024-11-07 23:36:19.992 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:36:19.992 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint '/frontend'
2024-11-07 23:36:19.992 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:36:19.992 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/frontend'
2024-11-07 23:36:19.994 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/frontend'
2024-11-07 23:36:19.994 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" completed keep alive response.
2024-11-07 23:36:19.994 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 200 - text/plain 6.6397ms
2024-11-07 23:36:33.326 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:36:33.330 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:33.330 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:36:33.331 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:36:33.331 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:36:33.331 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint '/frontend' with route pattern '/frontend' is valid for the request path '/FrontEnd'
2024-11-07 23:36:33.331 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:36:33.331 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint '/frontend'
2024-11-07 23:36:33.331 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:36:33.331 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/frontend'
2024-11-07 23:36:33.333 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/frontend'
2024-11-07 23:36:33.333 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" completed keep alive response.
2024-11-07 23:36:33.333 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 200 - text/plain 6.8310ms
2024-11-07 23:36:37.821 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:36:37.825 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:36:37.825 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:36:37.825 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:36:37.825 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:36:37.825 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint '/frontend' with route pattern '/frontend' is valid for the request path '/FrontEnd'
2024-11-07 23:36:37.825 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:36:37.825 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint '/frontend'
2024-11-07 23:36:37.825 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:36:37.825 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/frontend'
2024-11-07 23:36:37.827 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/frontend'
2024-11-07 23:36:37.827 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFI7MJI2C" completed keep alive response.
2024-11-07 23:36:37.827 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 200 - text/plain 5.8224ms
2024-11-07 23:37:24.251 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:37:24.453 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:37:24.550 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:37:24.569 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:37:24.584 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:37:24.584 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:37:24.593 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:37:24.593 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:37:24.593 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:37:24.694 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:37:24.701 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:37:24.718 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:37:24.734 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:37:24.735 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:37:24.735 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:37:24.736 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:37:24.741 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:37:24.757 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:37:24.757 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:37:24.757 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:37:24.757 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:37:24.798 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:37:24.815 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:37:24.817 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:37:24.820 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:37:24.824 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:37:24.829 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:37:24.832 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:37:24.833 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:37:25.151 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:37:25.216 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:37:25.216 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:37:25.216 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:37:25.216 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:37:25.217 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:37:25.242 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:37:25.336 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:37:25.338 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:37:25.340 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:37:25.340 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:37:25.676 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQH" accepted.
2024-11-07 23:37:25.677 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQH" started.
2024-11-07 23:37:25.679 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQI" accepted.
2024-11-07 23:37:25.680 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQI" started.
2024-11-07 23:37:25.783 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFJ0E1MQI" received FIN.
2024-11-07 23:37:25.783 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFJ0E1MQH" received FIN.
2024-11-07 23:37:26.252 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQJ" accepted.
2024-11-07 23:37:26.253 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQJ" started.
2024-11-07 23:37:26.255 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:37:26.255 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:37:26.302 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQI" stopped.
2024-11-07 23:37:26.302 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQH" stopped.
2024-11-07 23:37:26.307 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFJ0E1MQI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:37:26.307 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFJ0E1MQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:37:26.331 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFJ0E1MQJ established using the following protocol: Tls12
2024-11-07 23:37:26.397 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:37:26.534 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:37:26.534 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:37:26.556 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:37:26.562 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:37:26.567 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:37:26.572 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:37:26.572 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:37:26.585 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQJ" completed keep alive response.
2024-11-07 23:37:26.587 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 195.7174ms
2024-11-07 23:37:26.589 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:37:26.596 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:37:26.601 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:37:26.601 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQJ" completed keep alive response.
2024-11-07 23:37:26.601 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 401 0 - 12.2873ms
2024-11-07 23:37:26.606 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:37:26.610 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:37:26.614 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:37:26.617 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:37:26.619 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:37:26.667 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:37:26.675 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:37:26.679 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:37:26.680 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:37:26.682 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:37:26.768 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
2024-11-07 23:37:31.497 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFJ0E1MQJ" received FIN.
2024-11-07 23:37:31.498 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFJ0E1MQJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:37:31.498 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQJ" disconnecting.
2024-11-07 23:37:31.568 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQK" accepted.
2024-11-07 23:37:31.568 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQK" started.
2024-11-07 23:37:31.725 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFJ0E1MQK established using the following protocol: Tls12
2024-11-07 23:37:31.780 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:37:31.824 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:37:31.825 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:37:31.852 +01:00 [Debug] Microsoft.AspNetCore.Authorization.AuthorizationMiddleware: Policy authentication schemes  did not succeed
2024-11-07 23:37:31.853 +01:00 [Information] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization failed. These requirements were not met:; DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-11-07 23:37:31.853 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Challenged 401 Negotiate.
2024-11-07 23:37:31.853 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was challenged.
2024-11-07 23:37:31.854 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQK" completed keep alive response.
2024-11-07 23:37:31.854 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 74.1144ms
2024-11-07 23:37:31.934 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:37:31.959 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:37:31.960 +01:00 [Information] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Incomplete Negotiate handshake, sending an additional 401 Negotiate challenge.
2024-11-07 23:37:31.960 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQK" completed keep alive response.
2024-11-07 23:37:31.960 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 401 0 - 25.9852ms
2024-11-07 23:37:31.962 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/FrontEnd - - -
2024-11-07 23:37:31.965 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:37:31.966 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: Completed Negotiate authentication.
2024-11-07 23:37:31.966 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was successfully authenticated.
2024-11-07 23:37:31.966 +01:00 [Debug] Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Authorization was successful.
2024-11-07 23:37:31.967 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 2 candidate(s) found for the request path '/FrontEnd'
2024-11-07 23:37:31.967 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint '/frontend' with route pattern '/frontend' is valid for the request path '/FrontEnd'
2024-11-07 23:37:31.967 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/FrontEnd'
2024-11-07 23:37:31.967 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint '/frontend'
2024-11-07 23:37:31.968 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:37:31.968 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint '/frontend'
2024-11-07 23:37:31.963 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.HttpForwarder: RequestCanceled: The request was canceled before receiving a response.System.Threading.Tasks.TaskCanceledException: A task was canceled.;    at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken);    at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionWithTelemetryAsync(HttpRequestMessage request, HttpConnectionPool pool, Boolean async, CancellationToken requestCancellationToken);    at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken);    at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken);    at System.Net.Http.HttpMessageInvoker.<SendAsync>g__SendAsyncWithTelemetry|6_0(HttpMessageHandler handler, HttpRequestMessage request, CancellationToken cancellationToken);    at Yarp.ReverseProxy.Forwarder.HttpForwarder.SendAsync(HttpContext context, String destinationPrefix, HttpMessageInvoker httpClient, ForwarderRequestConfig requestConfig, HttpTransformer transformer, CancellationToken cancellationToken) in D:\github.com\FlorianGrimm\reverse-proxy\src\ReverseProxy\Forwarder\HttpForwarder.cs:line 162
2024-11-07 23:37:32.001 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint '/frontend'
2024-11-07 23:37:32.002 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQK" completed keep alive response.
2024-11-07 23:37:32.002 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/FrontEnd - 200 - text/plain 40.2709ms
2024-11-07 23:37:32.010 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executed endpoint 'routeFERoot'
2024-11-07 23:37:32.012 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request finished HTTP/1.1 GET https://localhost:5001/weatherforecast - 499 - - 5405.9840ms
2024-11-07 23:37:32.016 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFJ0E1MQJ" stopped.
2024-11-07 23:43:26.329 +01:00 [Information] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: User profile is available. Using 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-11-07 23:43:26.504 +01:00 [Information] Yarp.ReverseProxy.Configuration.ConfigProvider.ConfigurationConfigProvider: Loading proxy data from config.
2024-11-07 23:43:26.736 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'alpha' has been added.
2024-11-07 23:43:26.755 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Destination 'beta/destination1' has been added.
2024-11-07 23:43:26.766 +01:00 [Debug] Yarp.ReverseProxy.Forwarder.ForwarderHttpClientFactory: New client created for cluster 'gamma'.
2024-11-07 23:43:26.766 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Cluster 'gamma' has been added.
2024-11-07 23:43:26.774 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEBeta' has been added.
2024-11-07 23:43:26.774 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFEExample' has been added.
2024-11-07 23:43:26.774 +01:00 [Debug] Yarp.ReverseProxy.Management.ProxyConfigManager: Route 'routeFERoot' has been added.
2024-11-07 23:43:26.849 +01:00 [Error] Yarp.ReverseProxy.Tunnel.TunnelWebSocketRoute: No TunnelAuthenticationService found.
2024-11-07 23:43:26.852 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting starting
2024-11-07 23:43:26.861 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-577d9a92-fa91-4165-8833-f05d946bc2c5.xml'.
2024-11-07 23:43:26.870 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-788ab0d4-9e6c-42b3-b9c4-4351d926df61.xml'.
2024-11-07 23:43:26.870 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-9f2531df-641f-425a-880e-235532ee7350.xml'.
2024-11-07 23:43:26.870 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-b8d58b5a-cc7f-4f5e-8381-7b13d57a382e.xml'.
2024-11-07 23:43:26.871 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Repositories.FileSystemXmlRepository: Reading data from file 'C:\Users\Flori\AppData\Local\ASP.NET\DataProtection-Keys\key-ef70c6ba-cbe8-42f2-9a8f-4878df7da475.xml'.
2024-11-07 23:43:26.874 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {577d9a92-fa91-4165-8833-f05d946bc2c5}.
2024-11-07 23:43:26.881 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {788ab0d4-9e6c-42b3-b9c4-4351d926df61}.
2024-11-07 23:43:26.882 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {9f2531df-641f-425a-880e-235532ee7350}.
2024-11-07 23:43:26.882 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e}.
2024-11-07 23:43:26.882 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager: Found key {ef70c6ba-cbe8-42f2-9a8f-4878df7da475}.
2024-11-07 23:43:26.889 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver: Considering key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} with expiration date 2025-01-14 23:07:27Z as default key.
2024-11-07 23:43:26.902 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:43:26.903 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor: Decrypting secret element using Windows DPAPI.
2024-11-07 23:43:26.904 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.TypeForwardingActivator: Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-11-07 23:43:26.907 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'AES' from provider '(null)' with chaining mode CBC.
2024-11-07 23:43:26.910 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngCbcAuthenticatedEncryptorFactory: Opening CNG algorithm 'SHA256' from provider '(null)' with HMAC.
2024-11-07 23:43:26.912 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider: Using key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} as the default key.
2024-11-07 23:43:26.913 +01:00 [Debug] Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService: Key ring with default key {b8d58b5a-cc7f-4f5e-8381-7b13d57a382e} was loaded during application startup.
2024-11-07 23:43:27.098 +01:00 [Warning] Microsoft.AspNetCore.Server.Kestrel: Overriding address(es) 'https://localhost:5001'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2024-11-07 23:43:27.167 +01:00 [Information] Microsoft.Hosting.Lifetime: Now listening on: https://localhost:5001
2024-11-07 23:43:27.168 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:43:27.168 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2024-11-07 23:43:27.168 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-11-07 23:43:27.168 +01:00 [Debug] Microsoft.AspNetCore.Hosting.Diagnostics: Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-11-07 23:43:27.189 +01:00 [Information] Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider: No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2024-11-07 23:43:27.274 +01:00 [Information] Microsoft.Hosting.Lifetime: Application started. Press Ctrl+C to shut down.
2024-11-07 23:43:27.277 +01:00 [Information] Microsoft.Hosting.Lifetime: Hosting environment: Development
2024-11-07 23:43:27.279 +01:00 [Information] Microsoft.Hosting.Lifetime: Content root path: D:\github.com\FlorianGrimm\reverse-proxy\samples\Tunnel\Negotiate\ReverseProxy.Tunnel.Negotiate.Frontend
2024-11-07 23:43:27.279 +01:00 [Debug] Microsoft.Extensions.Hosting.Internal.Host: Hosting started
2024-11-07 23:43:27.522 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFMC8S997" received FIN.
2024-11-07 23:43:27.528 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFMC8S997" accepted.
2024-11-07 23:43:27.529 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFMC8S997" started.
2024-11-07 23:43:27.732 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Failed to authenticate HTTPS connection.System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.;    at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken);    at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken);    at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken);    at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-11-07 23:43:27.768 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFMC8S997" stopped.
2024-11-07 23:43:27.771 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets: Connection id "0HN7VFMC8S997" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-11-07 23:43:27.876 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFMC8S998" accepted.
2024-11-07 23:43:27.878 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Connections: Connection id "0HN7VFMC8S998" started.
2024-11-07 23:43:27.958 +01:00 [Debug] Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware: Connection 0HN7VFMC8S998 established using the following protocol: Tls12
2024-11-07 23:43:28.017 +01:00 [Information] Microsoft.AspNetCore.Hosting.Diagnostics: Request starting HTTP/1.1 GET https://localhost:5001/weatherforecast - - -
2024-11-07 23:43:28.149 +01:00 [Debug] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: Wildcard detected, all requests with hosts will be allowed.
2024-11-07 23:43:28.149 +01:00 [Trace] Microsoft.AspNetCore.HostFiltering.HostFilteringMiddleware: All hosts are allowed.
2024-11-07 23:43:28.166 +01:00 [Debug] Microsoft.AspNetCore.Authentication.Negotiate.NegotiateHandler: AuthenticationScheme: Negotiate was not authenticated.
2024-11-07 23:43:28.203 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: 1 candidate(s) found for the request path '/weatherforecast'
2024-11-07 23:43:28.212 +01:00 [Debug] Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Endpoint 'routeFERoot' with route pattern '{**catch-all}' is valid for the request path '/weatherforecast'
2024-11-07 23:43:28.216 +01:00 [Debug] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Request matched endpoint 'routeFERoot'
2024-11-07 23:43:28.218 +01:00 [Trace] Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: The endpoint does not specify the IRequestSizeLimitMetadata.
2024-11-07 23:43:28.219 +01:00 [Information] Microsoft.AspNetCore.Routing.EndpointMiddleware: Executing endpoint 'routeFERoot'
2024-11-07 23:43:28.293 +01:00 [Information] Yarp.ReverseProxy.Forwarder.HttpForwarder: Proxying to http://alpha/weatherforecast HTTP/2 RequestVersionOrLower 
